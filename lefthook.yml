pre-commit:
  parallel: true
  commands:
    # Package-specific linting - only runs when files in that package change
    api-lint:
      glob: 'apps/api/**/*.{ts,tsx}'
      run: cd apps/api && pnpm lint
    mobile-lint:
      glob: 'apps/mobile/**/*.{ts,tsx,js,jsx}'
      run: cd apps/mobile && pnpm lint
    shared-lint:
      glob: 'packages/shared/**/*.{ts,tsx}'
      run: cd packages/shared && pnpm lint

    # Global formatting for all staged files
    prettier:
      glob: '*.{js,jsx,ts,tsx,json,md,yml,yaml}'
      run: pnpm prettier --write {staged_files}

    # Root-level linting for config files (skip for now - no root ESLint config)
    # root-lint:
    #   glob: '{*.js,*.ts,.eslintrc.*,lefthook.yml}'
    #   run: pnpm eslint --fix {staged_files}
