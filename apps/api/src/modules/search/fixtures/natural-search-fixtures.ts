import type { SearchFixtureMap } from '@crave-search/shared';

export const SEARCH_FIXTURES: SearchFixtureMap = {
  default: {
    format: 'dual_list',
    plan: {
      format: 'dual_list',
      restaurantFilters: [
        {
          scope: 'restaurant',
          description:
            'Highlight East Austin neighborhoods with strong community buzz',
          entityType: 'restaurant_attribute',
          entityIds: ['fixture-attr-east-austin'],
        },
      ],
      connectionFilters: [
        {
          scope: 'connection',
          description: 'Prioritize tacos with high mention velocity',
          entityType: 'food_attribute',
          entityIds: ['fixture-attr-taco', 'fixture-attr-handmade-tortilla'],
        },
      ],
      ranking: {
        foodOrder: 'quality_score desc, recent_mentions desc',
        restaurantOrder: 'contextual_score desc',
      },
      diagnostics: {
        missingEntities: [],
        notes: [
          'Fixture response: tuned for end-to-end QA without LLM or data ingestion',
        ],
      },
    },
    food: [
      {
        connectionId: 'fixture-conn-1',
        foodId: 'fixture-food-1',
        foodName: 'Birria Tacos',
        foodAliases: ['Birria Taco', 'Quesabirria'],
        restaurantId: 'fixture-restaurant-1',
        restaurantName: 'Barrio Taqueria',
        restaurantAliases: ['Barrio', 'Barrio Taco Truck'],
        qualityScore: 9.2,
        activityLevel: 'trending',
        mentionCount: 189,
        totalUpvotes: 1436,
        recentMentionCount: 37,
        lastMentionedAt: new Date().toISOString(),
        categories: ['fixture-cat-tacos', 'fixture-cat-mexican'],
        foodAttributes: [
          'fixture-attr-handmade-tortilla',
          'fixture-attr-consomm√©',
        ],
      },
      {
        connectionId: 'fixture-conn-2',
        foodId: 'fixture-food-2',
        foodName: 'Al Pastor Tacos',
        foodAliases: ['Pastor', 'Pastor Taco'],
        restaurantId: 'fixture-restaurant-2',
        restaurantName: 'La Luna Patio',
        restaurantAliases: ['La Luna'],
        qualityScore: 8.7,
        activityLevel: 'active',
        mentionCount: 132,
        totalUpvotes: 823,
        recentMentionCount: 21,
        lastMentionedAt: new Date(Date.now() - 86400000).toISOString(),
        categories: ['fixture-cat-tacos'],
        foodAttributes: ['fixture-attr-charred-pineapple'],
      },
      {
        connectionId: 'fixture-conn-3',
        foodId: 'fixture-food-3',
        foodName: 'Breakfast Tacos',
        foodAliases: ['Migas Taco'],
        restaurantId: 'fixture-restaurant-1',
        restaurantName: 'Barrio Taqueria',
        restaurantAliases: ['Barrio', 'Barrio Taco Truck'],
        qualityScore: 8.1,
        activityLevel: 'normal',
        mentionCount: 94,
        totalUpvotes: 512,
        recentMentionCount: 12,
        lastMentionedAt: new Date(Date.now() - 86400000 * 3).toISOString(),
        categories: ['fixture-cat-breakfast', 'fixture-cat-tacos'],
        foodAttributes: ['fixture-attr-salsa-fresca'],
      },
    ],
    restaurants: [
      {
        restaurantId: 'fixture-restaurant-1',
        restaurantName: 'Barrio Taqueria',
        restaurantAliases: ['Barrio Taco Truck'],
        contextualScore: 9.4,
        restaurantQualityScore: 9.0,
        latitude: 30.2634,
        longitude: -97.7216,
        address: '1201 E 6th St, Austin, TX 78702',
        topFood: [
          {
            connectionId: 'fixture-conn-1',
            foodId: 'fixture-food-1',
            foodName: 'Birria Tacos',
            qualityScore: 9.2,
            activityLevel: 'trending',
          },
          {
            connectionId: 'fixture-conn-3',
            foodId: 'fixture-food-3',
            foodName: 'Breakfast Tacos',
            qualityScore: 8.1,
            activityLevel: 'normal',
          },
        ],
      },
      {
        restaurantId: 'fixture-restaurant-2',
        restaurantName: 'La Luna Patio',
        restaurantAliases: ['La Luna'],
        contextualScore: 8.8,
        restaurantQualityScore: 8.6,
        latitude: 30.2671,
        longitude: -97.7393,
        address: '501 Trinity St, Austin, TX 78701',
        topFood: [
          {
            connectionId: 'fixture-conn-2',
            foodId: 'fixture-food-2',
            foodName: 'Al Pastor Tacos',
            qualityScore: 8.7,
            activityLevel: 'active',
          },
        ],
      },
    ],
    sqlPreview:
      '/* fixture */ SELECT * FROM connections WHERE category = ANY($1::uuid[]) ORDER BY food_quality_score DESC LIMIT 20;',
    metadata: {
      totalFoodResults: 3,
      totalRestaurantResults: 2,
      queryExecutionTimeMs: 4,
      boundsApplied: false,
      openNowApplied: false,
      openNowSupportedRestaurants: 2,
      openNowUnsupportedRestaurants: 0,
      openNowFilteredOut: 0,
      page: 1,
      pageSize: 20,
      perRestaurantLimit: 3,
      coverageStatus: 'full',
    },
  },
  byQuery: {
    'best tacos in austin': undefined,
    'late night ramen': {
      format: 'dual_list',
      plan: {
        format: 'dual_list',
        restaurantFilters: [
          {
            scope: 'restaurant',
            description: 'Focus on late-night kitchens within downtown Austin',
            entityType: 'restaurant_attribute',
            entityIds: ['fixture-attr-late-night'],
          },
        ],
        connectionFilters: [
          {
            scope: 'connection',
            description: 'Highlight ramen bowls with recent discussion spikes',
            entityType: 'food_attribute',
            entityIds: ['fixture-attr-ramen', 'fixture-attr-tonkotsu'],
          },
        ],
        ranking: {
          foodOrder: 'recent_mentions desc, quality_score desc',
          restaurantOrder: 'contextual_score desc',
        },
        diagnostics: {
          missingEntities: [],
          notes: ['Fixture response for ramen discovery'],
        },
      },
      food: [
        {
          connectionId: 'fixture-conn-ramen-1',
          foodId: 'fixture-food-ramen-1',
          foodName: 'Tonkotsu Ramen',
          foodAliases: ['Tonkotsu Broth'],
          restaurantId: 'fixture-restaurant-ramen-1',
          restaurantName: 'Midnight Noodles',
          restaurantAliases: ['Midnight Noodles Club'],
          qualityScore: 9.1,
          activityLevel: 'trending',
          mentionCount: 121,
          totalUpvotes: 1034,
          recentMentionCount: 33,
          lastMentionedAt: new Date().toISOString(),
          categories: ['fixture-cat-ramen'],
          foodAttributes: ['fixture-attr-tonkotsu', 'fixture-attr-soft-egg'],
        },
        {
          connectionId: 'fixture-conn-ramen-2',
          foodId: 'fixture-food-ramen-2',
          foodName: 'Spicy Miso Ramen',
          foodAliases: ['Spicy Miso'],
          restaurantId: 'fixture-restaurant-ramen-2',
          restaurantName: 'Kombu Club',
          restaurantAliases: [],
          qualityScore: 8.4,
          activityLevel: 'active',
          mentionCount: 88,
          totalUpvotes: 642,
          recentMentionCount: 18,
          lastMentionedAt: new Date(Date.now() - 3600 * 1000 * 5).toISOString(),
          categories: ['fixture-cat-ramen'],
          foodAttributes: ['fixture-attr-chili-oil'],
        },
      ],
      restaurants: [
        {
          restaurantId: 'fixture-restaurant-ramen-1',
          restaurantName: 'Midnight Noodles',
          restaurantAliases: ['Midnight Noodles Club'],
          contextualScore: 9.2,
          restaurantQualityScore: 8.9,
          latitude: 30.2661,
          longitude: -97.7425,
          address: '321 Congress Ave, Austin, TX 78701',
          topFood: [
            {
              connectionId: 'fixture-conn-ramen-1',
              foodId: 'fixture-food-ramen-1',
              foodName: 'Tonkotsu Ramen',
              qualityScore: 9.1,
              activityLevel: 'trending',
            },
          ],
        },
        {
          restaurantId: 'fixture-restaurant-ramen-2',
          restaurantName: 'Kombu Club',
          restaurantAliases: [],
          contextualScore: 8.5,
          restaurantQualityScore: 8.3,
          latitude: 30.2689,
          longitude: -97.746,
          address: '612 W 6th St, Austin, TX 78701',
          topFood: [
            {
              connectionId: 'fixture-conn-ramen-2',
              foodId: 'fixture-food-ramen-2',
              foodName: 'Spicy Miso Ramen',
              qualityScore: 8.4,
              activityLevel: 'active',
            },
          ],
        },
      ],
      sqlPreview:
        '/* fixture */ SELECT * FROM connections WHERE food_attribute = ANY($1::uuid[]) ORDER BY recent_mentions DESC LIMIT 20;',
      metadata: {
        totalFoodResults: 2,
        totalRestaurantResults: 2,
        queryExecutionTimeMs: 5,
        boundsApplied: false,
        openNowApplied: true,
        openNowSupportedRestaurants: 2,
        openNowUnsupportedRestaurants: 0,
        openNowFilteredOut: 0,
        page: 1,
        pageSize: 20,
        perRestaurantLimit: 3,
        coverageStatus: 'full',
      },
    },
  },
};
