# Environment namespace (recommended)
# - Use separate API keys per environment.
# - Prefer separate Redis instances per environment in production.
#
# NOTE: `.env` files do not expand variables automatically, so set full values.

# `dev` | `prod`
APP_ENV=dev

# Optional overrides (defaults derive from `APP_ENV`)
# BULL_PREFIX=crave:dev
# LLM_RATE_LIMIT_PREFIX=crave:dev:llm-rate-limiter

# Disable background schedulers (useful for test runs)
TEST_COLLECTION_JOBS_ENABLED=false

# LLM system instruction cache Redis key (selected by `APP_ENV`)
LLM_SYSTEM_CACHE_REDIS_KEY_DEV=crave:dev:llm:system-instruction-cache
LLM_SYSTEM_CACHE_REDIS_KEY_PROD=crave:prod:llm:system-instruction-cache

# LLM API key (selected by `APP_ENV`)
LLM_API_KEY_DEV=
LLM_API_KEY_PROD=
LLM_THINKING_ENABLED=true
LLM_THINKING_LEVEL=LOW
LLM_QUERY_THINKING_LEVEL=MINIMAL
LLM_THINKING_INCLUDE_THOUGHTS=false
LLM_THINKING_BUDGET=0
LLM_HEADERS_TIMEOUT_MS=120000
LLM_BODY_TIMEOUT_MS=300000
LLM_CONNECT_TIMEOUT_MS=30000

# Google Places API key (selected by `APP_ENV`)
GOOGLE_PLACES_API_KEY_DEV=
GOOGLE_PLACES_API_KEY_PROD=
GOOGLE_PLACES_TIMEOUT=10000
GOOGLE_PLACES_DEFAULT_RADIUS=5000

# Reddit API credentials (selected by `APP_ENV`)
REDDIT_CLIENT_ID_DEV=
REDDIT_CLIENT_ID_PROD=
REDDIT_CLIENT_SECRET_DEV=
REDDIT_CLIENT_SECRET_PROD=
REDDIT_USERNAME_DEV=
REDDIT_USERNAME_PROD=
REDDIT_PASSWORD_DEV=
REDDIT_PASSWORD_PROD=

# Fail-fast circuit breakers (ignored in prod)
LLM_MAX_CONSECUTIVE_RATE_LIMITS=3
REDDIT_MAX_CONSECUTIVE_RATE_LIMITS=3
